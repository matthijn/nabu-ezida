{
  "name": "partial resolution leaves other markers",
  "description": "When one definition arrives, only its markers resolve, others stay pending",
  "steps": [
    {
      "action": "add",
      "path": "doc.md",
      "content": "{\"annotations\": [{\"text\": \"a\", \"code\": \"code_1aaaaaaa\"}, {\"text\": \"b\", \"code\": \"code_2bbbbbbb\"}]}"
    },
    {
      "action": "check",
      "path": "doc.md",
      "contains": "#[code_1aaaaaaa]"
    },
    {
      "action": "check",
      "path": "doc.md",
      "contains": "#[code_2bbbbbbb]"
    },
    {
      "action": "add",
      "path": "codebook.md",
      "content": "{\"id\": \"code_1aaaaaaa\", \"title\": \"A\"}"
    },
    {
      "action": "check",
      "path": "doc.md",
      "notContains": "#[code_1aaaaaaa]",
      "contains": "code_1aaaaaaa"
    },
    {
      "action": "check",
      "path": "doc.md",
      "contains": "#[code_2bbbbbbb]"
    }
  ]
}
